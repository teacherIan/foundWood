<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPad Menu Overlay Test - Should Behave Like Desktop/Mobile</title>
    <style>
        /* Import the actual CSS files to test real behavior */
        @import url('./src/index.css');
        @import url('./src/App.css');
        
        /* Simulate the actual app structure */
        body {
            margin: 0;
            padding: 0;
            font-family: "CustomFont", "Poppins", "Lobster Two", sans-serif;
            background: #f5f5f5;
            overflow: hidden;
        }

        .app-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        /* Simulate the 3D canvas */
        .canvas-simulation {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            text-align: center;
            z-index: 900; /* Same as real canvas */
        }

        /* Test info panel */
        .test-info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 14px;
            z-index: 30000;
            max-height: 200px;
            overflow-y: auto;
        }

        .test-status {
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 5px;
        }

        .success { background: rgba(0, 128, 0, 0.3); }
        .fail { background: rgba(255, 0, 0, 0.3); }
        .info { background: rgba(0, 0, 255, 0.3); }

        /* Hover test for menu items */
        .menu-item {
            transition: all 0.2s ease !important;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Simulate 3D Canvas Background -->
        <div class="canvas-simulation">
            <div>
                üå≤ Found Wood Canvas Simulation üå≤<br>
                <small style="font-size: 1rem;">Menu should appear as transparent overlay on top</small>
            </div>
        </div>

        <!-- Actual Header/Menu Structure from App -->
        <div class="header">
            <div class="menu">
                <div class="menu-item" onclick="testButtonClick('Home')">üè† Home</div>
                <div class="menu-item" onclick="testButtonClick('Gallery')">üñºÔ∏è Gallery</div>
                <div class="menu-item" onclick="testButtonClick('Contact')">üìß Contact</div>
            </div>
        </div>

        <!-- Test Results Panel -->
        <div class="test-info" id="testInfo">
            <h3>üß™ iPad Menu Overlay Test Results</h3>
            <div id="testResults">
                Loading test results...
            </div>
        </div>
    </div>

    <script>
        function testButtonClick(buttonName) {
            const result = document.createElement('div');
            result.className = 'test-status success';
            result.innerHTML = `‚úÖ ${buttonName} button clicked successfully! Menu is interactive.`;
            document.getElementById('testResults').appendChild(result);
            
            // Auto-remove after 3 seconds
            setTimeout(() => result.remove(), 3000);
        }

        function runOverlayTest() {
            const results = document.getElementById('testResults');
            results.innerHTML = '';

            // Detect device and orientation
            const isIPadPro = window.innerWidth >= 768 && window.innerHeight > window.innerWidth;
            const deviceInfo = {
                viewport: `${window.innerWidth}x${window.innerHeight}`,
                isPortrait: window.innerHeight > window.innerWidth,
                isIPadPro: isIPadPro,
                userAgent: navigator.userAgent.includes('iPad') ? 'iPad' : 'Other'
            };

            // Device detection result
            const deviceStatus = document.createElement('div');
            deviceStatus.className = `test-status ${isIPadPro ? 'info' : 'info'}`;
            deviceStatus.innerHTML = `
                üì± <strong>Device Detection:</strong><br>
                Viewport: ${deviceInfo.viewport}<br>
                Portrait: ${deviceInfo.isPortrait ? 'YES' : 'NO'}<br>
                iPad Pro: ${deviceInfo.isIPadPro ? 'YES' : 'NO'}<br>
                User Agent: ${deviceInfo.userAgent}
            `;
            results.appendChild(deviceStatus);

            // Test 1: Check canvas z-index
            const canvas = document.querySelector('.canvas-simulation');
            const canvasStyles = window.getComputedStyle(canvas);
            const canvasZIndex = canvasStyles.zIndex;

            const canvasTest = document.createElement('div');
            canvasTest.className = `test-status ${canvasZIndex === '900' ? 'success' : 'fail'}`;
            canvasTest.innerHTML = `
                üé® <strong>Canvas Z-Index Test:</strong><br>
                Expected: 900 (desktop/mobile overlay behavior)<br>
                Actual: ${canvasZIndex}<br>
                ${canvasZIndex === '900' ? '‚úÖ CORRECT - Canvas positioned for overlay' : '‚ùå WRONG - Canvas may block overlay'}
            `;
            results.appendChild(canvasTest);

            // Test 2: Check header z-index and background
            const header = document.querySelector('.header');
            if (header) {
                const headerStyles = window.getComputedStyle(header);
                const headerZIndex = headerStyles.zIndex;
                const headerBg = headerStyles.background;
                const isTransparent = headerBg.includes('transparent') || headerBg === 'rgba(0, 0, 0, 0)';

                const headerTest = document.createElement('div');
                headerTest.className = `test-status ${headerZIndex === '20000' && isTransparent ? 'success' : 'fail'}`;
                headerTest.innerHTML = `
                    üìã <strong>Header Overlay Test:</strong><br>
                    Z-Index - Expected: 20000, Actual: ${headerZIndex}<br>
                    Background: ${isTransparent ? 'Transparent ‚úÖ' : 'Solid/Blur ‚ùå'}<br>
                    ${headerZIndex === '20000' && isTransparent ? '‚úÖ CORRECT - Transparent overlay like desktop/mobile' : '‚ùå WRONG - Not behaving like desktop/mobile'}
                `;
                results.appendChild(headerTest);
            }

            // Test 3: Check menu item styling
            const menuItems = document.querySelectorAll('.menu-item');
            if (menuItems.length > 0) {
                const firstItem = menuItems[0];
                const itemStyles = window.getComputedStyle(firstItem);
                const itemZIndex = itemStyles.zIndex;
                const itemBg = itemStyles.background;
                const isItemTransparent = itemBg.includes('transparent') || itemBg === 'rgba(0, 0, 0, 0)';

                const menuTest = document.createElement('div');
                menuTest.className = `test-status ${itemZIndex === '20002' && isItemTransparent ? 'success' : 'fail'}`;
                menuTest.innerHTML = `
                    üîò <strong>Menu Items Overlay Test:</strong><br>
                    Z-Index - Expected: 20002, Actual: ${itemZIndex}<br>
                    Background: ${isItemTransparent ? 'Transparent ‚úÖ' : 'Solid/Blur ‚ùå'}<br>
                    ${itemZIndex === '20002' && isItemTransparent ? '‚úÖ CORRECT - Transparent overlay like desktop/mobile' : '‚ùå WRONG - Not behaving like desktop/mobile'}
                `;
                results.appendChild(menuTest);
            }

            // Test 4: Visual behavior test
            const visualTest = document.createElement('div');
            visualTest.className = 'test-status info';
            visualTest.innerHTML = `
                üëÅÔ∏è <strong>Visual Behavior Test:</strong><br>
                ‚Ä¢ Menu should appear as transparent overlay ON TOP of canvas<br>
                ‚Ä¢ Canvas should be visible BEHIND the menu (not hidden)<br>
                ‚Ä¢ No solid white/gray background blocking the canvas<br>
                ‚Ä¢ Hover effects should work smoothly<br>
                <em>Check visually - menu should overlay canvas like desktop/mobile!</em>
            `;
            results.appendChild(visualTest);

            // Test 5: Interaction test
            const interactionTest = document.createElement('div');
            interactionTest.className = 'test-status info';
            interactionTest.innerHTML = `
                üñ±Ô∏è <strong>Interaction Test:</strong><br>
                Click the menu buttons above to test if they're interactive.<br>
                Success messages will appear here if buttons work correctly.
            `;
            results.appendChild(interactionTest);
        }

        // Run tests when page loads
        window.addEventListener('load', runOverlayTest);
        
        // Re-run tests on orientation change
        window.addEventListener('orientationchange', () => {
            setTimeout(runOverlayTest, 100);
        });
        
        // Re-run tests on resize
        window.addEventListener('resize', () => {
            setTimeout(runOverlayTest, 100);
        });

        // Add hover test for menu items
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('mouseenter', () => {
                const hoverTest = document.createElement('div');
                hoverTest.className = 'test-status success';
                hoverTest.innerHTML = `‚ú® Hover effect working on: ${item.textContent}`;
                document.getElementById('testResults').appendChild(hoverTest);
                setTimeout(() => hoverTest.remove(), 2000);
            });
        });
    </script>
</body>
</html>
