:root {
    --base-size: 1.2rem;
    --spacing-unit: calc(var(--base-size) * 0.5);
    --input-font-size: calc(var(--base-size) * 1.8);
    --label-font-size: calc(var(--base-size) * 1.8);
    --header-font-size: calc(2.5vh + 2vw + var(--base-size));
    --button-font-size: calc(1vh + 1vw + var(--base-size) * 0.7);
    --icon-size: calc(var(--base-size) * 3);
    --brown: #8b4513;
    --light_brown: #d2b48c;
    --lightGreen: #d2b48c;
}

* {
    border: none;
    outline: none;
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    font-family: var(--mainFont);
}

html {
    overflow-y: auto;
    overflow-x: hidden;
    /* Prevent pull-to-refresh on iOS Safari */
    overscroll-behavior-y: contain;
    /* REMOVED: position: fixed that was causing layout issues */
    background: #f5f5f5 !important;
    /* Force consistent background color */
    height: 100%;
}

body {
    /* Additional iOS pull-to-refresh prevention */
    overscroll-behavior-y: contain;
    -webkit-overflow-scrolling: touch;
    /* FIXED: Removed position: fixed and overflow: hidden that caused black background */
    width: 100%;
    height: 100%;
    background: #f5f5f5 !important;
    /* Consistent background with theme color */
    background-color: #f5f5f5 !important;
    /* Double declaration for safety */
}

.app-container,
.appContainer {
    position: relative;
    background: #f5f5f5 !important;
    /* Force consistent background color */
    background-color: #ffffff !important;
    /* Double declaration */
    min-height: 100vh;
    width: 100%;
}

canvas {
    /* Let React Three Fiber Canvas component handle positioning */
    cursor: grab !important;
    /* Remove z-index override to allow inline styles to work */
    /* Remove conflicting positioning - let inline styles take precedence */
}

canvas:active {
    cursor: grabbing;
}

@media (max-width: 1000px) {
    /* Removed mask-image to fix transparent line artifact */
}

/* Loading Animation Keyframes - Enhanced for Premium Feel */
@keyframes fadeInUp {
    0% {
        opacity: 0;
        transform: translate3d(0, 30px, 0) scale(0.95);
    }

    60% {
        opacity: 0.8;
        transform: translate3d(0, -5px, 0) scale(1.02);
    }

    100% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1);
    }
}

/* ðŸŽ¬ EPIC EXIT ANIMATIONS - Spectacular directional exits */

/* Title exits upward with dramatic bounce and scale */
@keyframes epicFadeOutUp {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1) rotateX(0deg);
        filter: blur(0px);
    }

    30% {
        opacity: 0.8;
        transform: translate3d(0, -15px, 0) scale(1.1) rotateX(-5deg);
        filter: blur(1px);
    }

    70% {
        opacity: 0.3;
        transform: translate3d(0, -40px, 0) scale(0.9) rotateX(-15deg);
        filter: blur(3px);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, -100px, 0) scale(0.7) rotateX(-30deg);
        filter: blur(8px);
    }
}

/* Subtitle exits left with spin and perspective */
@keyframes epicFadeOutLeft {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1) rotateY(0deg);
        filter: blur(0px);
    }

    40% {
        opacity: 0.7;
        transform: translate3d(-25px, -5px, 0) scale(1.05) rotateY(-15deg);
        filter: blur(2px);
    }

    100% {
        opacity: 0;
        transform: translate3d(-120px, -20px, 0) scale(0.6) rotateY(-45deg);
        filter: blur(6px);
    }
}

/* Tagline exits right with opposite spin */
@keyframes epicFadeOutRight {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1) rotateY(0deg);
        filter: blur(0px);
    }

    40% {
        opacity: 0.7;
        transform: translate3d(25px, -5px, 0) scale(1.05) rotateY(15deg);
        filter: blur(2px);
    }

    100% {
        opacity: 0;
        transform: translate3d(120px, -20px, 0) scale(0.6) rotateY(45deg);
        filter: blur(6px);
    }
}

/* Spinner epic exit - dramatic scaling and rotation */
@keyframes epicSpinnerExit {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1) rotate(0deg);
        filter: blur(0px);
    }

    20% {
        opacity: 0.9;
        transform: translate3d(0, -8px, 0) scale(1.3) rotate(180deg);
        filter: blur(1px);
    }

    60% {
        opacity: 0.4;
        transform: translate3d(0, -25px, 0) scale(1.8) rotate(540deg);
        filter: blur(4px);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, -60px, 0) scale(2.5) rotate(720deg);
        filter: blur(10px);
    }
}

/* Status exits downward with dramatic effect */
@keyframes epicFadeOutDown {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1);
        filter: blur(0px);
    }

    30% {
        opacity: 0.8;
        transform: translate3d(0, 10px, 0) scale(1.08);
        filter: blur(1px);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, 80px, 0) scale(0.5);
        filter: blur(8px);
    }
}

/* Quote exits with dramatic scaling effect */
@keyframes epicFadeOutScale {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1) rotateZ(0deg);
        filter: blur(0px);
    }

    25% {
        opacity: 0.9;
        transform: translate3d(0, -5px, 0) scale(1.15) rotateZ(2deg);
        filter: blur(1px);
    }

    60% {
        opacity: 0.4;
        transform: translate3d(0, -15px, 0) scale(1.5) rotateZ(5deg);
        filter: blur(3px);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, -30px, 0) scale(2.2) rotateZ(10deg);
        filter: blur(12px);
    }
}

/* Epic background exit with dramatic zoom effect */
@keyframes epicBackgroundExit {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1);
        filter: blur(0px);
    }

    40% {
        opacity: 0.7;
        transform: translate3d(0, -10px, 0) scale(1.02);
        filter: blur(2px);
    }

    70% {
        opacity: 0.3;
        transform: translate3d(0, -25px, 0) scale(1.05);
        filter: blur(5px);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, -60px, 0) scale(1.1);
        filter: blur(15px);
    }
}

/* ðŸ“š LEGACY ANIMATIONS - Keep for fallback */

/* Smooth exit animation without bounce - fixes jarring motion */
@keyframes fadeOutDown {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, -30px, 0) scale(0.95);
    }
}

/* Smooth background container exit - consistent with other elements */
@keyframes fadeOutBackground {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, -20px, 0);
    }
}

/* Spinner entrance animation */
@keyframes spinnerFadeIn {
    0% {
        opacity: 0;
        transform: translate3d(0, 20px, 0) scale(0.8) rotate(0deg);
    }

    50% {
        opacity: 0.5;
        transform: translate3d(0, -3px, 0) scale(1.1) rotate(180deg);
    }

    100% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1) rotate(360deg);
    }
}

/* Spinner exit animation */
@keyframes spinnerFadeOut {
    0% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1);
    }

    50% {
        opacity: 0.3;
        transform: translate3d(0, -10px, 0) scale(1.2);
    }

    100% {
        opacity: 0;
        transform: translate3d(0, -30px, 0) scale(0.7);
    }
}

@keyframes spin-smooth {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

/* Loading spinner with smooth rotation */
.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(119, 72, 28, 0.2);
    border-radius: 50%;
    border-top: 3px solid #77481c;
    margin: 0 auto;
    /* Use transform3d for hardware acceleration */
    transform: translate3d(0, 0, 0);
    will-change: transform;
}

/* Ensure animations use hardware acceleration */
*[style*="animation"] {
    will-change: transform, opacity;
    transform: translate3d(0, 0, 0);
}