/* ===================================================================
   HEADER & MENU - CLEAN DEVICE-AGNOSTIC APPROACH
   ================================================================= */

/* Remove all existing iPad-specific rules and replace with simple approach */

/* ===== GLOBAL RESET FOR HEADER ELEMENTS ===== */
.header,
.menu,
.menu-item,
.icon,
.menu>div,
.menu>div>div,
.header *,
[class*="menu"] *,
[class*="header"] * {
    /* Remove stacking context creators */
    isolation: auto !important;
    contain: none !important;
    transform: none !important;
    will-change: auto !important;
    /* Ensure visibility */
    opacity: 1 !important;
    visibility: visible !important;
}

/* ===== CLEAN HEADER STYLES ===== */
.header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 10vh !important;
    z-index: 20000 !important;
    background: transparent !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    pointer-events: none !important;
    /* Header container non-interactive */
    /* Remove problematic properties */
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    border: none !important;
    filter: none !important;
}

.menu {
    display: flex !important;
    width: 100% !important;
    justify-content: space-around !important;
    align-items: center !important;
    font-size: clamp(1.5rem, 3.5vw, 3rem) !important;
    user-select: none !important;
    cursor: pointer !important;
    background-color: transparent !important;
    pointer-events: auto !important;
    /* Menu interactive */
    z-index: 20001 !important;
    position: relative !important;
}

.menu-item {
    font-size: clamp(1.5rem, 4vw, 3.5rem) !important;
    border: 1px solid #77481c !important;
    box-shadow: 2px 2px 2px #77481c !important;
    border-radius: 2em !important;
    padding: 0.2em 0.5em !important;
    -webkit-text-stroke: 2px #77481c !important;
    color: #fff !important;
    background: transparent !important;
    filter: drop-shadow(1px 1px 0px #1c5077) !important;
    cursor: pointer !important;
    pointer-events: auto !important;
    /* Menu items interactive */
    z-index: 20002 !important;
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    min-height: 44px !important;
    min-width: 44px !important;
}

.icon {
    z-index: 20003 !important;
    pointer-events: auto !important;
    opacity: 1 !important;
    visibility: visible !important;
    position: relative !important;
}

/* ===== CANVAS POSITIONING ===== */
canvas,
canvas[data-engine],
canvas[style] {
    z-index: 900 !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    min-width: 100vw !important;
    min-height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    outline: none !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */

/* Mobile devices */
@media (max-width: 768px) {
    .header {
        height: 8vh !important;
    }

    .menu-item {
        font-size: clamp(1.2rem, 3.5vw, 2.5rem) !important;
        padding: 0.15em 0.4em !important;
    }
}

/* Desktop and landscape */
@media (min-width: 769px) {
    .menu-item:hover {
        transform: scale(1.05) !important;
        background: rgba(119, 72, 28, 0.1) !important;
    }
}

/* ===== OVERLAY COMPONENTS ===== */
.typesContainer,
.galleryContainer,
.contactContainer {
    z-index: 21000 !important;
}

/* ===== CONTAINER FIXES ===== */
.appContainer,
.app-container {
    position: static !important;
    z-index: auto !important;
    isolation: auto !important;
    contain: none !important;
    transform: none !important;
    will-change: auto !important;
    filter: none !important;
}